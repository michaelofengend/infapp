{"ast":null,"code":"// scroll-watch\n(function (window, factory) {\n  // universal module definition\n  if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./core'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.InfiniteScroll, window.fizzyUIUtils);\n  }\n})(window, function factory(window, InfiniteScroll, utils) {\n  let proto = InfiniteScroll.prototype;\n\n  // default options\n  Object.assign(InfiniteScroll.defaults, {\n    scrollThreshold: 400\n    // elementScroll: null,\n  });\n\n  InfiniteScroll.create.scrollWatch = function () {\n    // events\n    this.pageScrollHandler = this.onPageScroll.bind(this);\n    this.resizeHandler = this.onResize.bind(this);\n    let scrollThreshold = this.options.scrollThreshold;\n    let isEnable = scrollThreshold || scrollThreshold === 0;\n    if (isEnable) this.enableScrollWatch();\n  };\n  InfiniteScroll.destroy.scrollWatch = function () {\n    this.disableScrollWatch();\n  };\n  proto.enableScrollWatch = function () {\n    if (this.isScrollWatching) return;\n    this.isScrollWatching = true;\n    this.updateMeasurements();\n    this.updateScroller();\n    // TODO disable after error?\n    this.on('last', this.disableScrollWatch);\n    this.bindScrollWatchEvents(true);\n  };\n  proto.disableScrollWatch = function () {\n    if (!this.isScrollWatching) return;\n    this.bindScrollWatchEvents(false);\n    delete this.isScrollWatching;\n  };\n  proto.bindScrollWatchEvents = function (isBind) {\n    let addRemove = isBind ? 'addEventListener' : 'removeEventListener';\n    this.scroller[addRemove]('scroll', this.pageScrollHandler);\n    window[addRemove]('resize', this.resizeHandler);\n  };\n  proto.onPageScroll = InfiniteScroll.throttle(function () {\n    let distance = this.getBottomDistance();\n    if (distance <= this.options.scrollThreshold) {\n      this.dispatchEvent('scrollThreshold');\n    }\n  });\n  proto.getBottomDistance = function () {\n    let bottom, scrollY;\n    if (this.options.elementScroll) {\n      bottom = this.scroller.scrollHeight;\n      scrollY = this.scroller.scrollTop + this.scroller.clientHeight;\n    } else {\n      bottom = this.top + this.element.clientHeight;\n      scrollY = window.scrollY + this.windowHeight;\n    }\n    return bottom - scrollY;\n  };\n  proto.onResize = function () {\n    this.updateMeasurements();\n  };\n  utils.debounceMethod(InfiniteScroll, 'onResize', 150);\n\n  // --------------------------  -------------------------- //\n\n  return InfiniteScroll;\n});","map":{"version":3,"names":["window","factory","module","exports","require","InfiniteScroll","fizzyUIUtils","utils","proto","prototype","Object","assign","defaults","scrollThreshold","create","scrollWatch","pageScrollHandler","onPageScroll","bind","resizeHandler","onResize","options","isEnable","enableScrollWatch","destroy","disableScrollWatch","isScrollWatching","updateMeasurements","updateScroller","on","bindScrollWatchEvents","isBind","addRemove","scroller","throttle","distance","getBottomDistance","dispatchEvent","bottom","scrollY","elementScroll","scrollHeight","scrollTop","clientHeight","top","element","windowHeight","debounceMethod"],"sources":["/Users/michaelofengenden/Desktop/Infapp/node_modules/infinite-scroll/js/scroll-watch.js"],"sourcesContent":["// scroll-watch\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./core'),\n        require('fizzy-ui-utils'),\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.InfiniteScroll,\n        window.fizzyUIUtils,\n    );\n  }\n\n}( window, function factory( window, InfiniteScroll, utils ) {\n\nlet proto = InfiniteScroll.prototype;\n\n// default options\nObject.assign( InfiniteScroll.defaults, {\n  scrollThreshold: 400,\n  // elementScroll: null,\n} );\n\nInfiniteScroll.create.scrollWatch = function() {\n  // events\n  this.pageScrollHandler = this.onPageScroll.bind( this );\n  this.resizeHandler = this.onResize.bind( this );\n\n  let scrollThreshold = this.options.scrollThreshold;\n  let isEnable = scrollThreshold || scrollThreshold === 0;\n  if ( isEnable ) this.enableScrollWatch();\n};\n\nInfiniteScroll.destroy.scrollWatch = function() {\n  this.disableScrollWatch();\n};\n\nproto.enableScrollWatch = function() {\n  if ( this.isScrollWatching ) return;\n\n  this.isScrollWatching = true;\n  this.updateMeasurements();\n  this.updateScroller();\n  // TODO disable after error?\n  this.on( 'last', this.disableScrollWatch );\n  this.bindScrollWatchEvents( true );\n};\n\nproto.disableScrollWatch = function() {\n  if ( !this.isScrollWatching ) return;\n\n  this.bindScrollWatchEvents( false );\n  delete this.isScrollWatching;\n};\n\nproto.bindScrollWatchEvents = function( isBind ) {\n  let addRemove = isBind ? 'addEventListener' : 'removeEventListener';\n  this.scroller[ addRemove ]( 'scroll', this.pageScrollHandler );\n  window[ addRemove ]( 'resize', this.resizeHandler );\n};\n\nproto.onPageScroll = InfiniteScroll.throttle( function() {\n  let distance = this.getBottomDistance();\n  if ( distance <= this.options.scrollThreshold ) {\n    this.dispatchEvent('scrollThreshold');\n  }\n} );\n\nproto.getBottomDistance = function() {\n  let bottom, scrollY;\n  if ( this.options.elementScroll ) {\n    bottom = this.scroller.scrollHeight;\n    scrollY = this.scroller.scrollTop + this.scroller.clientHeight;\n  } else {\n    bottom = this.top + this.element.clientHeight;\n    scrollY = window.scrollY + this.windowHeight;\n  }\n  return bottom - scrollY;\n};\n\nproto.onResize = function() {\n  this.updateMeasurements();\n};\n\nutils.debounceMethod( InfiniteScroll, 'onResize', 150 );\n\n// --------------------------  -------------------------- //\n\nreturn InfiniteScroll;\n\n} ) );\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}