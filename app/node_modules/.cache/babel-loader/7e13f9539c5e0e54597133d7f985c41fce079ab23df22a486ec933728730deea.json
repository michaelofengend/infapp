{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { getPostsPage } from '../api/axios';\nconst usePosts = function () {\n  _s();\n  let pageNum = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  const [results, setResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [error, setError] = useState({});\n  const [hasNextPage, setHasNextPage] = useState(false);\n  useEffect(() => {\n    setIsLoading(true);\n    setIsError(false);\n    setError({});\n    const controller = new AbortController();\n    const {\n      signal\n    } = controller;\n    getPostsPage(pageNum, {\n      signal\n    }).then(data => {\n      setResults(prev => [...prev, ...data]);\n      setHasNextPage(Boolean(data.length));\n      setIsLoading(false);\n    }).catch(e => {\n      setIsLoading(false);\n      if (signal.aborted) return;\n      setIsError(true);\n      setError({\n        message: e.message\n      });\n    });\n    return () => controller.abort();\n  }, [pageNum]);\n  return {\n    isLoading,\n    isError,\n    error,\n    results,\n    hasNextPage\n  };\n};\n_s(usePosts, \"9vlXP88a1pDkJTSVBxwKA8BfD3w=\");\nexport default usePosts;","map":{"version":3,"names":["useState","useEffect","getPostsPage","usePosts","pageNum","results","setResults","isLoading","setIsLoading","isError","setIsError","error","setError","hasNextPage","setHasNextPage","controller","AbortController","signal","then","data","prev","Boolean","length","catch","e","aborted","message","abort"],"sources":["/Users/michaelofengenden/Desktop/Infapp/app/src/hooks/usePosts.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { getPostsPage } from '../api/axios'\n\nconst usePosts = (pageNum = 1) => {\n    const [results, setResults] = useState([])\n    const [isLoading, setIsLoading] = useState(false)\n    const [isError, setIsError] = useState(false)\n    const [error, setError] = useState({})\n    const [hasNextPage, setHasNextPage] = useState(false)\n\n    useEffect(() => {\n        setIsLoading(true)\n        setIsError(false)\n        setError({})\n        \n        const controller = new AbortController()\n        const { signal } = controller\n\n        getPostsPage(pageNum, { signal })\n            .then(data => {\n                setResults(prev => [...prev, ...data])\n                setHasNextPage(Boolean(data.length))\n                setIsLoading(false)\n            })\n            .catch(e => {\n                setIsLoading(false)\n                if (signal.aborted) return\n                setIsError(true)\n                setError({ message: e.message })\n            })\n        return () => controller.abort()\n\n    }, [pageNum])\n    return { isLoading, isError, error, results, hasNextPage}\n}\n\nexport default usePosts"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,cAAc;AAE3C,MAAMC,QAAQ,GAAG,YAAiB;EAAA;EAAA,IAAhBC,OAAO,uEAAG,CAAC;EACzB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAErDC,SAAS,CAAC,MAAM;IACZO,YAAY,CAAC,IAAI,CAAC;IAClBE,UAAU,CAAC,KAAK,CAAC;IACjBE,QAAQ,CAAC,CAAC,CAAC,CAAC;IAEZ,MAAMG,UAAU,GAAG,IAAIC,eAAe,EAAE;IACxC,MAAM;MAAEC;IAAO,CAAC,GAAGF,UAAU;IAE7Bb,YAAY,CAACE,OAAO,EAAE;MAAEa;IAAO,CAAC,CAAC,CAC5BC,IAAI,CAACC,IAAI,IAAI;MACVb,UAAU,CAACc,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE,GAAGD,IAAI,CAAC,CAAC;MACtCL,cAAc,CAACO,OAAO,CAACF,IAAI,CAACG,MAAM,CAAC,CAAC;MACpCd,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,CACDe,KAAK,CAACC,CAAC,IAAI;MACRhB,YAAY,CAAC,KAAK,CAAC;MACnB,IAAIS,MAAM,CAACQ,OAAO,EAAE;MACpBf,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC;QAAEc,OAAO,EAAEF,CAAC,CAACE;MAAQ,CAAC,CAAC;IACpC,CAAC,CAAC;IACN,OAAO,MAAMX,UAAU,CAACY,KAAK,EAAE;EAEnC,CAAC,EAAE,CAACvB,OAAO,CAAC,CAAC;EACb,OAAO;IAAEG,SAAS;IAAEE,OAAO;IAAEE,KAAK;IAAEN,OAAO;IAAEQ;EAAW,CAAC;AAC7D,CAAC;AAAA,GA/BKV,QAAQ;AAiCd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}