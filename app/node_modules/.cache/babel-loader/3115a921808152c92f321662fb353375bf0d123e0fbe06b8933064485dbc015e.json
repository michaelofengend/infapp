{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { getPostsPage } from '../api/axios';\nimport axios from 'axios';\nconst usePosts = function () {\n  _s();\n  let pageNum = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  const [results, setResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [error, setError] = useState({});\n  const [hasNextPage, setHasNextPage] = useState(false);\n  useEffect(() => {\n    setIsLoading(true);\n    setIsError(false);\n    setError({});\n    const controller = new AbortController();\n    const {\n      signal\n    } = controller;\n    axios.get(\"../Food3.json\");\n    getPostsPage(pageNum, {\n      signal\n    }).then(data => {\n      setResults(prev => [...prev, ...data]);\n      setHasNextPage(Boolean(data.length));\n      setIsLoading(false);\n    }).catch(e => {\n      setIsLoading(false);\n      if (signal.aborted) return;\n      setIsError(true);\n      setError({\n        message: e.message\n      });\n    });\n    return () => controller.abort();\n  }, [pageNum]);\n  return {\n    isLoading,\n    isError,\n    error,\n    results,\n    hasNextPage\n  };\n};\n_s(usePosts, \"9vlXP88a1pDkJTSVBxwKA8BfD3w=\");\nexport default usePosts;","map":{"version":3,"names":["useState","useEffect","getPostsPage","axios","usePosts","pageNum","results","setResults","isLoading","setIsLoading","isError","setIsError","error","setError","hasNextPage","setHasNextPage","controller","AbortController","signal","get","then","data","prev","Boolean","length","catch","e","aborted","message","abort"],"sources":["/Users/michaelofengenden/Desktop/Infapp/app/src/hooks/usePosts.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { getPostsPage } from '../api/axios'\nimport axios from 'axios'\n\nconst usePosts = (pageNum = 1) => {\n    const [results, setResults] = useState([])\n    const [isLoading, setIsLoading] = useState(false)\n    const [isError, setIsError] = useState(false)\n    const [error, setError] = useState({})\n    const [hasNextPage, setHasNextPage] = useState(false)\n\n    useEffect(() => {\n        setIsLoading(true)\n        setIsError(false)\n        setError({})\n        \n        const controller = new AbortController()\n        const { signal } = controller\n        axios.get(\"../Food3.json\")\n        getPostsPage(pageNum, { signal })\n            .then(data => {\n                setResults(prev => [...prev, ...data])\n                setHasNextPage(Boolean(data.length))\n                setIsLoading(false)\n            })\n            .catch(e => {\n                setIsLoading(false)\n                if (signal.aborted) return\n                setIsError(true)\n                setError({ message: e.message })\n            })\n        return () => controller.abort()\n\n    }, [pageNum])\n    return { isLoading, isError, error, results, hasNextPage}\n}\n\nexport default usePosts"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,cAAc;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,YAAiB;EAAA;EAAA,IAAhBC,OAAO,uEAAG,CAAC;EACzB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAErDC,SAAS,CAAC,MAAM;IACZQ,YAAY,CAAC,IAAI,CAAC;IAClBE,UAAU,CAAC,KAAK,CAAC;IACjBE,QAAQ,CAAC,CAAC,CAAC,CAAC;IAEZ,MAAMG,UAAU,GAAG,IAAIC,eAAe,EAAE;IACxC,MAAM;MAAEC;IAAO,CAAC,GAAGF,UAAU;IAC7Bb,KAAK,CAACgB,GAAG,CAAC,eAAe,CAAC;IAC1BjB,YAAY,CAACG,OAAO,EAAE;MAAEa;IAAO,CAAC,CAAC,CAC5BE,IAAI,CAACC,IAAI,IAAI;MACVd,UAAU,CAACe,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE,GAAGD,IAAI,CAAC,CAAC;MACtCN,cAAc,CAACQ,OAAO,CAACF,IAAI,CAACG,MAAM,CAAC,CAAC;MACpCf,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,CACDgB,KAAK,CAACC,CAAC,IAAI;MACRjB,YAAY,CAAC,KAAK,CAAC;MACnB,IAAIS,MAAM,CAACS,OAAO,EAAE;MACpBhB,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC;QAAEe,OAAO,EAAEF,CAAC,CAACE;MAAQ,CAAC,CAAC;IACpC,CAAC,CAAC;IACN,OAAO,MAAMZ,UAAU,CAACa,KAAK,EAAE;EAEnC,CAAC,EAAE,CAACxB,OAAO,CAAC,CAAC;EACb,OAAO;IAAEG,SAAS;IAAEE,OAAO;IAAEE,KAAK;IAAEN,OAAO;IAAEQ;EAAW,CAAC;AAC7D,CAAC;AAAA,GA/BKV,QAAQ;AAiCd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}